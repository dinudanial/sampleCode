<?php

class admin_Model_CurrencyDao extends Zend_Db_Table_Abstract
{
    protected $_name = 'Currency';
    protected $_primary = 'ID_Currency';
    
    public function save(array $currencies)
    {
        try {
            $result=$this->insert($currencies);
            return (integer)$result;
        } catch (Zend_Db_Table_Exception $exc) {
            echo $exc->getMessage();
        }
    }
    
    public function updateCurrency(array $currencies,$id)
    {
        try {
            $data=$currencies;
          
            $where['ID_Currency=?']=$id;
            $this->update($data, $where);
            
        } catch (Zend_Db_Table_Exception $exc) {
            echo $exc->getMessage();
        }
        }


    public function getCurrencies()
    {
        try {
            $select=  $this->select();
            $select->from($this,array('ID_Currency','d__CurrencyName','d__CurrencySymbolHTML','d__BaseRate','d__CurrencySymbolPaddingCharacter','d__Priority','d__CurrencyCode','d__CurrencySymbol','d__CurrencySymbolPosition'));
            $stmt=$select->query();
            $row=$stmt->fetchAll();
            return $row;
        return $row;   
        } catch (Zend_Db_Table_Exception $exc) {
            echo $exc->getMessage();
        }         
    }
    
    public function getCurrencyList($currencyId)
    {
        try {
            $select=  $this->select();
            $select->from($this,array('ID_Currency','d__CurrencyName','d__CurrencyCode','d__CurrencySymbol','d__CurrencySymbolHTML','d__CurrencySymbolPaddingCharacter','d__CurrencySymbolPosition','d__BaseRate','d__Priority'))
                   ->where('ID_Currency = ?', $currencyId);
            $stmt=$select->query();
            $row=$stmt->fetch();
            return $row;
        } catch (Exception $exc) {
            echo $exc->getMessage();
        }
    }
    
    public function deleteCurrencies($currencyId)
    {
        try {   
          
             $where['ID_Currency=?']=$currencyId;
             $this->delete($where);
        } catch (Zend_Db_Table_Exception $exc) {
            echo $exc->getMessage();
        }
   }



}

